<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TradingChart Pro</title>
    <script src="https://cdn.jsdelivr.net/npm/lightweight-charts@4.1.1/dist/lightweight-charts.standalone.production.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #131722;
            color: #d1d4dc;
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            height: 100vh;
        }
        
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            background-color: #1e222d;
            border-radius: 8px;
            margin-bottom: 15px;
        }
        
        .logo {
            font-size: 22px;
            font-weight: bold;
            color: #2962ff;
        }
        
        .symbol-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .symbol {
            font-weight: 600;
        }
        
        .price {
            font-size: 18px;
            font-weight: bold;
        }
        
        .price.up {
            color: #26a69a;
        }
        
        .price.down {
            color: #ef5350;
        }
        
        .change {
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 14px;
        }
        
        .change.up {
            background-color: rgba(38, 166, 154, 0.2);
            color: #26a69a;
        }
        
        .change.down {
            background-color: rgba(239, 83, 80, 0.2);
            color: #ef5350;
        }
        
        .controls {
            display: flex;
            gap: 8px;
        }
        
        .btn {
            background-color: #2a2e39;
            color: #d1d4dc;
            border: none;
            padding: 8px 12px;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 500;
            transition: background-color 0.2s;
        }
        
        .btn:hover {
            background-color: #363b4a;
        }
        
        .btn.active {
            background-color: #2962ff;
            color: white;
        }
        
        .main-content {
            display: flex;
            flex: 1;
            gap: 15px;
            overflow: hidden;
        }
        
        .chart-container {
            flex: 1;
            background-color: #1e222d;
            border-radius: 8px;
            overflow: hidden;
            position: relative;
            display: flex;
            flex-direction: column;
        }
        
        .chart-header {
            padding: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid #2a2e39;
        }
        
        .timeframes {
            display: flex;
            gap: 8px;
        }
        
        .timeframe-btn {
            padding: 6px 10px;
            background-color: #2a2e39;
            border-radius: 4px;
            cursor: pointer;
            font-size: 13px;
            transition: background-color 0.2s;
        }
        
        .timeframe-btn:hover {
            background-color: #363b4a;
        }
        
        .timeframe-btn.active {
            background-color: #2962ff;
            color: white;
        }
        
        .chart {
            flex: 1;
            padding: 15px;
        }
        
        #chart {
            width: 100%;
            height: 100%;
        }
        
        .tools-panel {
            width: 250px;
            background-color: #1e222d;
            border-radius: 8px;
            padding: 15px;
            display: flex;
            flex-direction: column;
            gap: 20px;
            overflow-y: auto;
        }
        
        .panel-section {
            padding-bottom: 15px;
            border-bottom: 1px solid #2a2e39;
        }
        
        .panel-title {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 12px;
            color: #bbbfc8;
        }
        
        .tool-btn {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 8px 10px;
            background-color: #2a2e39;
            border-radius: 4px;
            margin-bottom: 8px;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        
        .tool-btn:hover {
            background-color: #363b4a;
        }
        
        .tool-btn.active {
            background-color: #2962ff;
        }
        
        .tool-icon {
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .indicators-list {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        .indicator-item {
            padding: 8px 10px;
            background-color: #2a2e39;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        
        .indicator-item:hover {
            background-color: #363b4a;
        }
        
        .footer {
            display: flex;
            justify-content: space-between;
            padding: 15px;
            background-color: #1e222d;
            border-radius: 8px;
            margin-top: 15px;
            font-size: 14px;
        }
        
        .chart-overlay {
            position: absolute;
            top: 70px;
            left: 15px;
            z-index: 10;
            display: flex;
            gap: 10px;
        }
        
        .overlay-btn {
            background-color: rgba(30, 34, 45, 0.8);
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 13px;
        }
        
        .drawing-tools {
            display: flex;
            gap: 5px;
            background-color: rgba(30, 34, 45, 0.8);
            padding: 5px;
            border-radius: 4px;
        }
        
        .drawing-btn {
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: #2a2e39;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .drawing-btn.active {
            background-color: #2962ff;
        }
        
        .candle-info {
            position: absolute;
            right: 15px;
            top: 70px;
            background-color: rgba(30, 34, 45, 0.8);
            padding: 10px;
            border-radius: 4px;
            font-size: 12px;
            z-index: 10;
        }
        
        .candle-info div {
            margin-bottom: 5px;
        }
        
        .ohlc {
            display: flex;
            gap: 15px;
        }
        
        .ohlc-item {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .ohlc-value {
            font-weight: bold;
        }
        
        .ohlc-label {
            font-size: 11px;
            color: #9ca2b3;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="logo">TradingChart Pro</div>
            <div class="symbol-info">
                <span class="symbol">BTC/USD</span>
                <span class="price up">$41,250.75</span>
                <span class="change up">+2.35%</span>
            </div>
            <div class="controls">
                <button class="btn">1D</button>
                <button class="btn active">1W</button>
                <button class="btn">1M</button>
                <button class="btn">3M</button>
                <button class="btn">1Y</button>
            </div>
        </div>
        
        <div class="main-content">
            <div class="chart-container">
                <div class="chart-header">
                    <div class="timeframes">
                        <div class="timeframe-btn active">1m</div>
                        <div class="timeframe-btn">5m</div>
                        <div class="timeframe-btn">15m</div>
                        <div class="timeframe-btn">30m</div>
                        <div class="timeframe-btn">1h</div>
                        <div class="timeframe-btn">4h</div>
                        <div class="timeframe-btn">1d</div>
                        <div class="timeframe-btn">1w</div>
                    </div>
                    <div class="ohlc">
                        <div class="ohlc-item">
                            <div class="ohlc-label">O</div>
                            <div class="ohlc-value" style="color: #9ca2b3;">41,120.50</div>
                        </div>
                        <div class="ohlc-item">
                            <div class="ohlc-label">H</div>
                            <div class="ohlc-value" style="color: #26a69a;">41,350.20</div>
                        </div>
                        <div class="ohlc-item">
                            <div class="ohlc-label">L</div>
                            <div class="ohlc-value" style="color: #ef5350;">41,080.30</div>
                        </div>
                        <div class="ohlc-item">
                            <div class="ohlc-label">C</div>
                            <div class="ohlc-value" style="color: #26a69a;">41,250.75</div>
                        </div>
                    </div>
                </div>
                <div class="chart">
                    <div id="chart"></div>
                </div>
                <div class="chart-overlay">
                    <div class="drawing-tools">
                        <div class="drawing-btn active" title="Crosshair">╋</div>
                        <div class="drawing-btn" title="Line Tool">∕</div>
                        <div class="drawing-btn" title="Horizontal Line">═</div>
                        <div class="drawing-btn" title="Vertical Line">║</div>
                        <div class="drawing-btn" title="Ray">→</div>
                    </div>
                    <button class="overlay-btn">Undo</button>
                    <button class="overlay-btn">Redo</button>
                    <button class="overlay-btn">Clear</button>
                </div>
                <div class="candle-info">
                    <div>BTC/USD • 1W</div>
                    <div>O: 41,120.50</div>
                    <div>H: 41,350.20</div>
                    <div>L: 41,080.30</div>
                    <div>C: 41,250.75</div>
                </div>
            </div>
            
            <div class="tools-panel">
                <div class="panel-section">
                    <div class="panel-title">Drawing Tools</div>
                    <div class="tool-btn active">
                        <div class="tool-icon">╋</div>
                        <span>Crosshair</span>
                    </div>
                    <div class="tool-btn">
                        <div class="tool-icon">∕</div>
                        <span>Line</span>
                    </div>
                    <div class="tool-btn">
                        <div class="tool-icon">╱</div>
                        <span>Trend Line</span>
                    </div>
                    <div class="tool-btn">
                        <div class="tool-icon">═</div>
                        <span>Horizontal Line</span>
                    </div>
                    <div class="tool-btn">
                        <div class="tool-icon">║</div>
                        <span>Vertical Line</span>
                    </div>
                    <div class="tool-btn">
                        <div class="tool-icon">→</div>
                        <span>Ray</span>
                    </div>
                </div>
                
                <div class="panel-section">
                    <div class="panel-title">Indicators</div>
                    <div class="indicators-list">
                        <div class="indicator-item">Moving Average</div>
                        <div class="indicator-item">Exponential Moving Average</div>
                        <div class="indicator-item">Bollinger Bands</div>
                        <div class="indicator-item">Relative Strength Index (RSI)</div>
                        <div class="indicator-item">MACD</div>
                        <div class="indicator-item">Stochastic Oscillator</div>
                        <div class="indicator-item">Volume</div>
                    </div>
                </div>
                
                <div class="panel-section">
                    <div class="panel-title">Candlestick Patterns</div>
                    <div class="indicators-list">
                        <div class="indicator-item">Doji</div>
                        <div class="indicator-item">Hammer</div>
                        <div class="indicator-item">Engulfing</div>
                        <div class="indicator-item">Evening Star</div>
                        <div class="indicator-item">Morning Star</div>
                        <div class="indicator-item">Three White Soldiers</div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="footer">
            <div>Chart powered by Lightweight Charts</div>
            <div>OVERNIGHT: BTC $40,250 - $42,100</div>
            <div>VOL: 28.5K BTC</div>
        </div>
    </div>

    <script>
        // Initialize the chart when the page loads
        document.addEventListener('DOMContentLoaded', function() {
            // Create the chart
            const chart = LightweightCharts.createChart(document.getElementById('chart'), {
                layout: {
                    background: { color: '#1e222d' },
                    textColor: '#d1d4dc',
                },
                grid: {
                    vertLines: { color: '#2a2e39' },
                    horzLines: { color: '#2a2e39' },
                },
                timeScale: {
                    timeVisible: true,
                    secondsVisible: false,
                    borderColor: '#2a2e39',
                },
                crosshair: {
                    mode: LightweightCharts.CrosshairMode.Normal,
                },
                width: document.getElementById('chart').clientWidth,
                height: document.getElementById('chart').clientHeight,
            });
            
            // Create candlestick series
            const candleSeries = chart.addCandlestickSeries({
                upColor: '#26a69a',
                downColor: '#ef5350',
                borderDownColor: '#ef5350',
                borderUpColor: '#26a69a',
                wickDownColor: '#ef5350',
                wickUpColor: '#26a69a',
            });
            
            // Generate random data
            function generateData() {
                const numberOfBars = 200;
                const initialPrice = 40000;
                const result = [];
                
                let previousPrice = initialPrice;
                let previousTime = Math.floor(Date.now() / 1000) - numberOfBars * 1800; // 30min intervals
                
                for (let i = 0; i < numberOfBars; i++) {
                    const time = previousTime + 1800;
                    
                    // Random price movement
                    const volatility = 0.5; // 0.5% volatility
                    const changePercent = 2 * volatility * (Math.random() - 0.5);
                    const changeAmount = previousPrice * changePercent / 100;
                    
                    const open = previousPrice;
                    const close = open + changeAmount;
                    const high = Math.max(open, close) + Math.abs(changeAmount) * Math.random();
                    const low = Math.min(open, close) - Math.abs(changeAmount) * Math.random();
                    
                    result.push({
                        time: time,
                        open: open,
                        high: high,
                        low: low,
                        close: close,
                    });
                    
                    previousPrice = close;
                    previousTime = time;
                }
                
                return result;
            }
            
            const data = generateData();
            candleSeries.setData(data);
            
            // Add moving average
            const movingAverageSeries = chart.addLineSeries({
                color: '#2962ff',
                lineWidth: 2,
                priceScaleId: 'left',
            });
            
            const period = 20;
            const movingAverageData = [];
            for (let i = period - 1; i < data.length; i++) {
                let sum = 0;
                for (let j = 0; j < period; j++) {
                    sum += data[i - j].close;
                }
                movingAverageData.push({
                    time: data[i].time,
                    value: sum / period,
                });
            }
            
            movingAverageSeries.setData(movingAverageData);
            
            // Add volume indicator
            const volumeSeries = chart.addHistogramSeries({
                color: '#26a69a',
                priceFormat: {
                    type: 'volume',
                },
                priceScaleId: '',
                scaleMargins: {
                    top: 0.8,
                    bottom: 0,
                },
            });
            
            const volumeData = data.map(bar => ({
                time: bar.time,
                value: Math.floor(Math.random() * 1000) + 500,
                color: bar.close >= bar.open ? 'rgba(38, 166, 154, 0.5)' : 'rgba(239, 83, 80, 0.5)',
            }));
            
            volumeSeries.setData(volumeData);
            
            // Handle window resize
            window.addEventListener('resize', function() {
                chart.applyOptions({
                    width: document.getElementById('chart').clientWidth,
                    height: document.getElementById('chart').clientHeight,
                });
            });
            
            // Simulate live updates
            setInterval(() => {
                if (data.length === 0) return;
                
                const lastBar = data[data.length - 1];
                const nextTime = lastBar.time + 1800;
                
                const changePercent = 0.1 * (Math.random() - 0.5);
                const changeAmount = lastBar.close * changePercent / 100;
                
                const newClose = lastBar.close + changeAmount;
                const newHigh = Math.max(lastBar.close, newClose) + Math.abs(changeAmount) * Math.random();
                const newLow = Math.min(lastBar.close, newClose) - Math.abs(changeAmount) * Math.random();
                
                const newBar = {
                    time: nextTime,
                    open: lastBar.close,
                    high: newHigh,
                    low: newLow,
                    close: newClose,
                };
                
                // Update candle
                candleSeries.update(newBar);
                
                // Update volume
                volumeSeries.update({
                    time: nextTime,
                    value: Math.floor(Math.random() * 1000) + 500,
                    color: newClose >= lastBar.close ? 'rgba(38, 166, 154, 0.5)' : 'rgba(239, 83, 80, 0.5)',
                });
                
                // Update last bar in data
                data.push(newBar);
                
                // Update moving average
                if (data.length > period) {
                    let sum = 0;
                    for (let j = 0; j < period; j++) {
                        sum += data[data.length - 1 - j].close;
                    }
                    movingAverageSeries.update({
                        time: nextTime,
                        value: sum / period,
                    });
                }
                
            }, 3000);
            
            // Add interactivity to buttons
            document.querySelectorAll('.timeframe-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.timeframe-btn').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                });
            });
            
            document.querySelectorAll('.drawing-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.drawing-btn').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                });
            });
            
            document.querySelectorAll('.tool-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.tool-btn').forEach(b => b.classList.remove('active'));
                    this.classList.add('active');
                });
            });
        });
    </script>
</body>
</html>